{"version":3,"sources":["../../../../assets/CommonBase/assets/CommonBase/UIManager.js"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"UIManager.js","sourceRoot":"../../../../assets/CommonBase","sourcesContent":["// /**\n//  * @file: UIManager.js\n//  * @description: UI管理器,传入prefab名字，自动加载并显示，第一次会比较慢，需要加载资源\n//  * @author: lu ning\n//  * @email: luning@tuyoogame.com\n//  * @date: 2018-08-25\n// */\n// let _instance = null;\n// let LOADING_PREFAB = tywx.ado.ResConfig.PrefabConfig.PREFAB_LOADING;\n// let UIManager = class{\n//     static getInstance(){\n//         if(!_instance) _instance = new UIManager();\n//         return _instance;\n//     }\n\n//     constructor(){\n//         this.prefabCache = new Map();\n//         this.loadingInstance = null;\n//     }\n//     /**\n//      * @description 根据配置文件显示UI\n//      * @author lu ning\n//      * @date 2018-08-25\n//      * @param {Array<any>} config ['loading',false,'']\n//      * @param {any} [args=null]\n//      */\n//     showUIByConfig(config, args = null){\n//         this.showUIByName(config[0],config[1],config[2],args);\n//     }\n//     /**\n//      * @description 显示UI控件\n//      * @author lu ning\n//      * @date 2018-08-25\n//      * @param {String} prefab_name\n//      * @param {boolean} [is_init=false]\n//      * @param {string} [script_name='']\n//      * @param {any} [args=null]\n//      */\n//     showUIByName(prefab_name, is_init = false, script_name = '', args = null){\n//         let root_node = cc.director.getScene().getChildByName('Canvas');\n//         let self = this;\n//         if(!this.prefabCache.has(prefab_name)){\n//             cc.loader.loadRes(`prefabs/${prefab_name}`,(err,prefab)=>{\n//                 if(!err){\n//                     self.prefabCache.set(prefab_name, prefab);\n//                     self.instantiatePrefab2Parent(prefab, root_node, is_init, script_name, args);\n//                 }\n//                 else{\n//                     cc.error(`load prefab failed ${prefab_name} ${err}`);\n//                 }\n//             });\n//         }\n//         else{\n//             this.instantiatePrefab2Parent(this.prefabCache.get(prefab_name), root_node, is_init, script_name, args);\n//         }\n        \n//     }\n//      /**\n//      * @description 实例化控件，添加到当前场景Canvas的最上层\n//      * @author lu ning\n//      * @date 2018-08-25\n//      * @param {cc.Prefab} prefab\n//      * @param {cc.Node} parent\n//      * @param {boolean} [is_init=false]\n//      * @param {string} [script_name='']\n//      * @param {any} [args=null]\n//      * @returns {cc.Node}\n//      */\n//     instantiatePrefab2Parent(prefab, parent, is_init = false, script_name = '', args = null){\n//         // this.showLoading();\n//         let tmp_node = cc.instantiate(prefab);\n//         tmp_node.parent = parent;\n//         console.log(\"root_node parent  \"+parent);\n//         if(is_init){\n//             let tmp_script = tmp_node.getComponent(script_name);\n//             if(tmp_script && tmp_script.init){\n//                 tmp_script.init(args);\n//             }\n//         }\n//         // this.hideLoading();\n//         return tmp_node;\n//     }\n//     /**\n//      * @description 重置loading, 切换场景后需要重置\n//      * @author lu ning\n//      * @date 2018-08-25\n//      */\n//     resetLoading(){\n//         if(this.loadingInstance){\n//             this.loadingInstance.destroy();\n//             this.loadingInstance = null;\n//         }\n//         let root_node = cc.director.getScene().getChildByName('Canvas');\n//         let self = this;\n//         if(!this.prefabCache.has(LOADING_PREFAB)){\n//             cc.loader.loadRes(`prefabs/${LOADING_PREFAB}`,(err,prefab)=>{\n//                 if(!err){\n//                     self.prefabCache.set(LOADING_PREFAB, prefab);\n//                     self.loadingInstance = cc.instantiate(prefab);\n//                     self.loadingInstance.parent = root_node;\n//                 }\n//                 else{\n//                     cc.error(`load prefab failed ${LOADING_PREFAB} ${err}`);\n//                 }\n//             });\n//         }\n//         else{\n//             this.loadingInstance = cc.instantiate(this.prefabCache.get(LOADING_PREFAB));\n//             this.loadingInstance.parent = root_node;\n//         }\n//     }\n//     /**\n//      * @description 显示loading控件\n//      * @author lu ning\n//      * @date 2018-08-25\n//      */\n//     showLoading(){\n//         if(this.loadingInstance){\n//             this.loadingInstance.active = true;\n//         }\n//         else{\n//             this.resetLoading();\n//         }\n//     }\n//     /**\n//      * @description 隐藏loading控件\n//      * @author lu ning\n//      * @date 2018-08-25\n//      */\n//     hideLoading(){\n//         if(this.loadingInstance){\n//             this.loadingInstance.active = false;\n//         }\n//         else{\n//             this.resetLoading();\n//         }\n//     }\n// };\n\n// module.exports = UIManager.getInstance();"]}