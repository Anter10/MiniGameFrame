{"version":3,"sources":["../../../../assets/PhyFrame/assets/PhyFrame/PhyFrameWorld.js"],"names":["self","cc","Class","extends","Component","properties","size","mouseJoint","nodeP","type","Node","default","onLoad","lineWidth","strokeColor","color","isClearMode","prepoint","Graphics","getComponent","console","log","lineTo","fillColor","fromHEX","moveTo","close","stroke","fill","eventManager","addListener","event","EventListener","TOUCH_ONE_BY_ONE","onTouchBegan","onTouchMoved","onTouchEnded","node","physicsManager","director","getPhysicsManager","enabled","debugDrawFlags","PhysicsManager","DrawBits","e_jointBit","e_shapeBit","gravity","v2","manager","getCollisionManager","width","height","allloads","body","addComponent","RigidBody","RigidBodyType","Static","joint","MouseJoint","mouseRegion","_addBound","parent","x","y","collider","PhysicsBoxCollider","offset","onCollisionEnter","other","world","aabb","preAabb","t","transform","r","radius","p","position","ps","points","touch","touchLoc","getLocation","clear","length","JSON","stringify"],"mappings":"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","file":"PhyFrameWorld.js","sourceRoot":"../../../../assets/PhyFrame","sourcesContent":["var self = null;\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        size: cc.size(0, 0),\n        mouseJoint: true,\n        nodeP:{\n            type: cc.Node,\n            default: null,\n        },\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        // 初始化参数\n        self = this;\n        this.lineWidth = 5;\n        this.strokeColor = cc.color(0, 0, 0);\n        this.isClearMode = false;\n        this.prepoint = null;\n\n        this.Graphics = this.nodeP.getComponent(cc.Graphics);\n        console.log(\"Graphics  = \" + this.Graphics.lineTo)\n       this.Graphics.lineWidth = 10;\n       this.Graphics.fillColor.fromHEX('#ff0000');\n\n         this.Graphics.lineWidth = 10;\n          this.Graphics.fillColor.fromHEX('#ff0000');\n\n          this.Graphics.moveTo(-120, 0);\n          this.Graphics.lineTo(0, -100);\n          this.Graphics.lineTo(20, 0);\n          this.Graphics.lineTo(0, 100);\n          this.Graphics.close();\n\n          this.Graphics.stroke();\n          this.Graphics.fill();\n\n        // 绑定触摸通知事件通知\n        cc.eventManager.addListener({\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            onTouchBegan: this.onTouchBegan,\n            onTouchMoved: this.onTouchMoved,\n            onTouchEnded: this.onTouchEnded,\n        }, this.node);\n\n        let physicsManager = cc.director.getPhysicsManager();\n        physicsManager.enabled = true;\n\n        physicsManager.debugDrawFlags = cc.PhysicsManager.DrawBits.e_jointBit | cc.PhysicsManager.DrawBits.e_shapeBit;\n        physicsManager.gravity = cc.v2(0, -9.8);\n\n        var manager = cc.director.getCollisionManager();\n        // manager.enabled = true;\n        // manager.enabledDebugDraw = true;\n        // 当前的宽和高\n        let width = this.size.width || this.node.width;\n        let height = this.size.height || this.node.height;\n\n        let node = new cc.Node();\n        this.allloads = [  {\n            \"x\": 572.16,\n            \"y\": 952.3199999999999\n        }, {\n            \"x\": 574.0799999999999,\n            \"y\": 965.7599999999999\n        }, {\n            \"x\": 579.8399999999999,\n            \"y\": 975.3599999999999\n        }, {\n            \"x\": 581.76,\n            \"y\": 983.04\n        }, {\n            \"x\": 583.68,\n            \"y\": 992.6399999999999\n        }, {\n            \"x\": 589.4399999999999,\n            \"y\": 1004.16\n        }, {\n            \"x\": 568.3199999999999,\n            \"y\": 973.4399999999999\n        }, {\n            \"x\": 558.7199999999999,\n            \"y\": 958.0799999999999\n        }, {\n            \"x\": 533.76,\n            \"y\": 929.28\n        }, {\n            \"x\": 512.64,\n            \"y\": 911.9999999999999\n        }, {\n            \"x\": 495.35999999999996,\n            \"y\": 896.64\n        }, {\n            \"x\": 479.99999999999994,\n            \"y\": 883.1999999999999\n        }, {\n            \"x\": 464.64,\n            \"y\": 875.52\n        }, {\n            \"x\": 453.11999999999995,\n            \"y\": 867.8399999999999\n        }, {\n            \"x\": 441.59999999999997,\n            \"y\": 860.16\n        }, {\n            \"x\": 433.91999999999996,\n            \"y\": 858.2399999999999\n        }, {\n            \"x\": 428.15999999999997,\n            \"y\": 854.4\n        }, {\n            \"x\": 420.47999999999996,\n            \"y\": 852.4799999999999\n        }, {\n            \"x\": 414.71999999999997,\n            \"y\": 852.4799999999999\n        }, {\n            \"x\": 410.88,\n            \"y\": 850.56\n        }, {\n            \"x\": 407.03999999999996,\n            \"y\": 846.7199999999999\n        }, {\n            \"x\": 353.28,\n            \"y\": 839.04\n        }, {\n            \"x\": 368.64,\n            \"y\": 800.64\n        }, {\n            \"x\": 380.15999999999997,\n            \"y\": 777.5999999999999\n        }, {\n            \"x\": 389.76,\n            \"y\": 754.56\n        }, {\n            \"x\": 403.2,\n            \"y\": 731.52\n        }, {\n            \"x\": 410.88,\n            \"y\": 712.3199999999999\n        }, {\n            \"x\": 474.23999999999995,\n            \"y\": 528\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 566.4\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 581.76\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 612.4799999999999\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 639.3599999999999\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 660.4799999999999\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 673.92\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 683.52\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 689.28\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 691.1999999999999\n        }, {\n            \"x\": 481.91999999999996,\n            \"y\": 696.9599999999999\n        }, {\n            \"x\": 479.99999999999994,\n            \"y\": 704.64\n        }, {\n            \"x\": 479.99999999999994,\n            \"y\": 708.4799999999999\n        }, {\n            \"x\": 479.99999999999994,\n            \"y\": 714.2399999999999\n        }, {\n            \"x\": 476.15999999999997,\n            \"y\": 716.16\n        }, {\n            \"x\": 556.8,\n            \"y\": 965.7599999999999\n        }, {\n            \"x\": 568.3199999999999,\n            \"y\": 919.68\n        }, {\n            \"x\": 574.0799999999999,\n            \"y\": 896.64\n        }, {\n            \"x\": 581.76,\n            \"y\": 865.92\n        }, {\n            \"x\": 583.68,\n            \"y\": 839.04\n        }, {\n            \"x\": 587.52,\n            \"y\": 814.0799999999999\n        }, {\n            \"x\": 587.52,\n            \"y\": 800.64\n        }, {\n            \"x\": 587.52,\n            \"y\": 792.9599999999999\n        }, {\n            \"x\": 587.52,\n            \"y\": 785.28\n        }, {\n            \"x\": 299.52,\n            \"y\": 1092.48\n        }, {\n            \"x\": 44.16,\n            \"y\": 1046.3999999999999\n        }, {\n            \"x\": 84.47999999999999,\n            \"y\": 1006.0799999999999\n        }, {\n            \"x\": 126.71999999999998,\n            \"y\": 954.2399999999999\n        }, {\n            \"x\": 153.6,\n            \"y\": 921.5999999999999\n        }, {\n            \"x\": 174.72,\n            \"y\": 892.8\n        }, {\n            \"x\": 192,\n            \"y\": 867.8399999999999\n        }, {\n            \"x\": 203.51999999999998,\n            \"y\": 852.4799999999999\n        }, {\n            \"x\": 211.2,\n            \"y\": 842.88\n        }, {\n            \"x\": 213.11999999999998,\n            \"y\": 837.1199999999999\n        }, {\n            \"x\": 215.04,\n            \"y\": 837.1199999999999\n        }];\n\n        \n        //   this.Graphics.fill();\n        // 将此节点设置成静态刚体\n        let body = node.addComponent(cc.RigidBody);\n        body.type = cc.RigidBodyType.Static;\n\n        if (this.mouseJoint) {\n            // add mouse joint\n            let joint = node.addComponent(cc.MouseJoint);\n            joint.mouseRegion = this.node;\n        }\n\n        this._addBound(node, 0, height / 2, width, 20);\n        this._addBound(node, 0, -height / 2, width, 20);\n        this._addBound(node, -width / 2, 0, 20, height);\n        this._addBound(node, width / 2, 0, 20, height);\n\n        node.parent = this.node;\n\n        console.log(\"当前物理世界\");\n    },\n\n    _addBound: function (node, x, y, width, height) {\n        let collider = node.addComponent(cc.PhysicsBoxCollider);\n        collider.offset.x = x;\n        collider.offset.y = y;\n        collider.size.width = width;\n        collider.size.height = height;\n    },\n\n\n    /**\n     * 当碰撞产生的时候调用\n     * @param  {Collider} other 产生碰撞的另一个碰撞组件\n     * @param  {Collider} self  产生碰撞的自身的碰撞组件\n     */\n    onCollisionEnter: function (other, self) {\n        console.log('on collision enter');\n\n        // 碰撞系统会计算出碰撞组件在世界坐标系下的相关的值，并放到 world 这个属性里面\n        var world = self.world;\n\n        // 碰撞组件的 aabb 碰撞框\n        var aabb = world.aabb;\n\n        // 节点碰撞前上一帧 aabb 碰撞框的位置\n        var preAabb = world.preAabb;\n\n        // 碰撞框的世界矩阵\n        var t = world.transform;\n\n        // 以下属性为圆形碰撞组件特有属性\n        var r = world.radius;\n        var p = world.position;\n\n        // 以下属性为 矩形 和 多边形 碰撞组件特有属性\n        var ps = world.points;\n    },\n\n    onTouchBegan: function (touch, event) {\n\n             \n            // 获取触摸点数据\n            var touchLoc = touch.getLocation();\n            self.allloads = [];\n              self.Graphics.clear()\n              self.Graphics.lineWidth = 10;\n              self.Graphics.fillColor.fromHEX('#ff0000');\n\n             \n            self.Graphics.moveTo(touchLoc.x - 360, touchLoc.y - 640);\n            self.allloads[self.allloads.length] = touchLoc;\n            return true;\n        },\n        onTouchMoved: function (touch, event) {\n\n                // 获取触摸点数据\n                var touchLoc = touch.getLocation();\n                console.log(\"pos = \" + JSON.stringify(touchLoc));\n                self.allloads[self.allloads.length] = touchLoc;\n                 \n                //  for (var t = 1; t < self.allloads.length; t++) {\n                //      var pos = this.node.convertToNodeSpaceAR(self.allloads[t].x, self.allloads[t].y);\n                     self.Graphics.lineTo(touchLoc.x - 360, touchLoc.y - 640);\n                //  }\n\n                //  self.Graphics.close();\n                 self.Graphics.stroke();\n       },\n \n    onTouchEnded: function (touch, event) {\n        console.log(\"jieshu \" + JSON.stringify(self.allloads))\n             self.Graphics.close();\n    }\n});"]}