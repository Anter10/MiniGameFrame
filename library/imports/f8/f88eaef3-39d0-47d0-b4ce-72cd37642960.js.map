{"version":3,"sources":["../../../../assets/PhyFrame/assets/PhyFrame/PhyFrameWorld.js"],"names":["cc","Class","extends","Component","properties","size","mouseJoint","onLoad","width","node","height","Node","body","addComponent","RigidBody","type","RigidBodyType","Static","joint","MouseJoint","mouseRegion","_addBound","parent","x","y","collider","PhysicsBoxCollider","offset"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAML,GAAGK,IAAH,CAAQ,CAAR,EAAW,CAAX,CADE;AAERC,oBAAY;AAFJ,KAHP;;AAQL;AACAC,YAAQ,kBAAY;AAChB;AACA,YAAIC,QAAQ,KAAKH,IAAL,CAAUG,KAAV,IAAmB,KAAKC,IAAL,CAAUD,KAAzC;AACA,YAAIE,SAAS,KAAKL,IAAL,CAAUK,MAAV,IAAoB,KAAKD,IAAL,CAAUC,MAA3C;;AAEA,YAAID,OAAO,IAAIT,GAAGW,IAAP,EAAX;;AAEA;AACA,YAAIC,OAAOH,KAAKI,YAAL,CAAkBb,GAAGc,SAArB,CAAX;AACAF,aAAKG,IAAL,GAAYf,GAAGgB,aAAH,CAAiBC,MAA7B;;AAEA,YAAI,KAAKX,UAAT,EAAqB;AACjB;AACA,gBAAIY,QAAQT,KAAKI,YAAL,CAAkBb,GAAGmB,UAArB,CAAZ;AACAD,kBAAME,WAAN,GAAoB,KAAKX,IAAzB;AACH;;AAED,aAAKY,SAAL,CAAeZ,IAAf,EAAqB,CAArB,EAAwBC,SAAS,CAAjC,EAAoCF,KAApC,EAA2C,EAA3C;AACA,aAAKa,SAAL,CAAeZ,IAAf,EAAqB,CAArB,EAAwB,CAACC,MAAD,GAAU,CAAlC,EAAqCF,KAArC,EAA4C,EAA5C;AACA,aAAKa,SAAL,CAAeZ,IAAf,EAAqB,CAACD,KAAD,GAAS,CAA9B,EAAiC,CAAjC,EAAoC,EAApC,EAAwCE,MAAxC;AACA,aAAKW,SAAL,CAAeZ,IAAf,EAAqBD,QAAQ,CAA7B,EAAgC,CAAhC,EAAmC,EAAnC,EAAuCE,MAAvC;;AAEAD,aAAKa,MAAL,GAAc,KAAKb,IAAnB;AACH,KAhCI;;AAkCLY,aAlCK,qBAkCKZ,IAlCL,EAkCWc,CAlCX,EAkCcC,CAlCd,EAkCiBhB,KAlCjB,EAkCwBE,MAlCxB,EAkCgC;AACjC,YAAIe,WAAWhB,KAAKI,YAAL,CAAkBb,GAAG0B,kBAArB,CAAf;AACAD,iBAASE,MAAT,CAAgBJ,CAAhB,GAAoBA,CAApB;AACAE,iBAASE,MAAT,CAAgBH,CAAhB,GAAoBA,CAApB;AACAC,iBAASpB,IAAT,CAAcG,KAAd,GAAsBA,KAAtB;AACAiB,iBAASpB,IAAT,CAAcK,MAAd,GAAuBA,MAAvB;AACH;AAxCI,CAAT","file":"PhyFrameWorld.js","sourceRoot":"../../../../assets/PhyFrame","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        size: cc.size(0, 0),\n        mouseJoint: true\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        // 当前的宽和高\n        let width = this.size.width || this.node.width;\n        let height = this.size.height || this.node.height;\n\n        let node = new cc.Node();\n        \n        // 将此节点设置成静态刚体\n        let body = node.addComponent(cc.RigidBody);\n        body.type = cc.RigidBodyType.Static;\n        \n        if (this.mouseJoint) {\n            // add mouse joint\n            let joint = node.addComponent(cc.MouseJoint);\n            joint.mouseRegion = this.node;\n        }\n\n        this._addBound(node, 0, height / 2, width, 20);\n        this._addBound(node, 0, -height / 2, width, 20);\n        this._addBound(node, -width / 2, 0, 20, height);\n        this._addBound(node, width / 2, 0, 20, height);\n        \n        node.parent = this.node;\n    },\n\n    _addBound(node, x, y, width, height) {\n        let collider = node.addComponent(cc.PhysicsBoxCollider);\n        collider.offset.x = x;\n        collider.offset.y = y;\n        collider.size.width = width;\n        collider.size.height = height;\n    }\n});\n"]}